(()=>{"use strict";const e=class{constructor(){this.subscribers=[]}subscribe(e){this.subscribers.push(e)}publish(e){this.subscribers.forEach((t=>t(e)))}},t=new e,n=new e,s=new e;function c(){const e=localStorage.getItem("localPlant");return JSON.parse(e)}function o(e){const t=JSON.stringify(e);localStorage.setItem("localPlant",t)}function a(e){const t=c();t.material=e,o(t)}function l(e){const t=c();t.style=e,o(t)}function i(e){const t=c();t.color=e,o(t)}const r=new e;function d(e){const t=c();t.composting=e,o(t)}const u=new e;function m(e){const t=c();t.name=e,o(t)}const g=new e;function p(e){const t=c();null===e?delete t.elements:t.elements=e,o(t)}function h(e){switch(e){case"moss":return"moss-pole";case"pebbles":return"pebbles";case"mini":return"mini-plants";default:return""}}function b(e){return e.replace(/ /g,"-").toLowerCase()}const f=function(e){const t=JSON.stringify(e);localStorage.setItem("localPlant",t);const n=document.getElementById("card-container");n.innerHTML="";const{name:s,composting:c,color:o,style:a,elements:l,material:i}=e;let r=`\n    <div class="card">\n      <p>The perfect plant for you <span class="name-plant">${s}</span></p>\n      <div id="imgPlantsContainer" class="img-container">\n        <img class="image plantImage" src="Assets/plant-${b(s)}.png" alt="">\n        <img class="image potImage" src="Assets/pots/${b(`${i} ${a}`)}-${o}.png" alt="">\n        <img class="image soilImage" src="Assets/soil-${c}.png" alt="">\n      </div>\n      <div class="description">\n      <div class="infoName"><h3>Name: </h3><p class="descripCard">${s}</p></div>\n      <div class="infoSoil"><h3>Soil: </h3><p class="descripCard">${c}</p></div>\n      <div class="infoSoil"><h3>Color: </h3><p class="descripCard">${i}</p></div>\n        <div class="infoPot"><h3>Pot: </h3><p class="descripCard">${a}</p></div>\n        <div id="elements" class="infoExtras"><h3>Extras: </h3><p class="descripCard moreElements">${l}</p></div>\n      </div>\n      \n    </div>\n    `;n.innerHTML=r,function(e){const t=document.getElementById("imgPlantsContainer");if(e&&e.length>0)Array.isArray(e)?e.forEach((e=>{t.innerHTML+=`<img class="image extra${e}" src="Assets/${h(e)}.png" alt="">`})):t.innerHTML+=`<img class="image extra${e}" src="Assets/${h(e)}.png" alt="">`;else{const e=document.getElementById("elements");e&&e.remove()}}(l),document.getElementById("objectConteiner").style.display="block"},y=document.getElementById("decorationOptions"),E=document.getElementById("decorationToggle"),v=document.getElementById("toggleTextDecoration"),I=document.getElementById("colorToggle"),C=document.getElementById("colorOptions"),L=document.getElementById("toggleTextColor");E.addEventListener("change",(function(){E.checked?(y.style.display="block",v.textContent="Yes"):(y.style.display="none",v.textContent="No")})),I.addEventListener("change",(function(){if(I.checked)C.style.display="block",L.textContent="Yes";else{C.style.display="none",L.textContent="No";const e=c();e.color="unpainted",o(e)}})),document.getElementById("customizationForm").addEventListener("change",(()=>{const e=localStorage.getItem("localPlant"),t=JSON.parse(e);f(t)})),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".input-material").forEach((e=>{e.addEventListener("change",(e=>{const n=e.currentTarget.dataset.id;t.publish(n)}))})),document.querySelectorAll(".input-decoration").forEach((e=>{e.addEventListener("change",(e=>{const t=e.currentTarget.dataset.id;n.publish(t)}))})),document.querySelectorAll(".input-color").forEach((e=>{e.addEventListener("change",(e=>{const t=e.currentTarget.dataset.id;s.publish(t)}))})),t.subscribe(a),n.subscribe(l),s.subscribe(i),document.querySelectorAll(".input-soil").forEach((e=>{e.addEventListener("change",(e=>{const t=e.currentTarget.dataset.id;r.publish(t)}))})),r.subscribe(d),document.getElementById("dropdown").addEventListener("change",(e=>{const t=e.target.value;u.publish(t)})),u.subscribe(m),g.subscribe(p),(()=>{const e=document.querySelectorAll(".input-extra"),t=[];e.forEach((e=>{e.addEventListener("change",(n=>{const s=n.currentTarget.dataset.id;if(e.checked)t.push(s);else{const e=t.indexOf(s);-1!==e&&t.splice(e,1)}let c=null;1===t.length?c=t[0]:t.length>1&&(c=t),g.publish(c)}))}))})(),f(c())}))})();