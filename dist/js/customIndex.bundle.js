(()=>{"use strict";function e(e){switch(e){case"moss":return"moss-pole";case"pebbles":return"pebbles";case"mini":return"mini-plants";default:return""}}function t(e){return e.replace(/ /g,"-").toLowerCase()}const n=class{constructor(){this.subscribers=[]}subscribe(e){this.subscribers.push(e)}publish(e){this.subscribers.forEach((t=>t(e)))}},s=new n,o=new n,l=new n,c=localStorage.getItem("localPlant"),a=JSON.parse(c);function r(e){console.log("material",e),a.podUrl="",a.material=e}function i(e){console.log("deco",e),a.style=e}function d(e){console.log("color",e),a.color=e}const g=localStorage.getItem("localPlant"),m=JSON.parse(g),u=new n;function p(e){console.log("rendersoil",e),document.getElementById("soilImg").setAttribute=`../img/soil-${e}.png`,m.composting=e}const h=localStorage.getItem("localPlant"),b=JSON.parse(h),E=new n;function y(e){console.log("renderplantName",e),b.name=e}const f=localStorage.getItem("localPlant"),v=JSON.parse(f),I=new n;function S(e){console.log("renderExtrasChange",e),v.elements=e}document.querySelectorAll(".input-material").forEach((e=>{e.addEventListener("change",(e=>{const t=e.currentTarget.dataset.id;s.publish(t)}))})),document.querySelectorAll(".input-decoration").forEach((e=>{e.addEventListener("change",(e=>{const t=e.currentTarget.dataset.id;o.publish(t)}))})),document.querySelectorAll(".input-color").forEach((e=>{e.addEventListener("change",(e=>{const t=e.currentTarget.dataset.id;l.publish(t)}))})),s.subscribe(r),o.subscribe(i),l.subscribe(d),document.querySelectorAll(".input-soil").forEach((e=>{e.addEventListener("change",(e=>{const t=e.currentTarget.dataset.id;u.publish(t),console.log("soil",t)}))})),u.subscribe(p),document.getElementById("dropdown").addEventListener("change",(e=>{const t=e.target.value;console.log("plantName",t),E.publish(t)})),E.subscribe(y),I.subscribe(S),document.querySelectorAll(".input-extra").forEach((e=>{e.addEventListener("change",(e=>{const t=e.currentTarget.dataset.id;I.publish(t),console.log("extras",t)}))}));const C=document.getElementById("decorationOptions"),$=document.getElementById("decorationToggle"),L=document.getElementById("toggleTextDecoration"),T=document.getElementById("colorToggle"),x=document.getElementById("colorOptions"),A=document.getElementById("toggleTextColor");$.addEventListener("change",(function(){$.checked?(C.style.display="block",L.textContent="Yes"):(C.style.display="none",L.textContent="No")})),T.addEventListener("change",(function(){T.checked?(x.style.display="block",A.textContent="Yes"):(x.style.display="none",A.textContent="No")}));const B=localStorage.getItem("localPlant"),N=JSON.parse(B),P=document.getElementById("customizationForm"),w={...N};P.addEventListener("change",(()=>{console.log("Selected Plant Data:",w),function(n){console.log(n);const s=JSON.stringify(n);localStorage.setItem("localPlant",s);const o=document.getElementById("card-container");o.innerHTML="";const{name:l,composting:c,color:a,style:r,elements:i,material:d}=n;let g=`\n    <div class="card">\n      <p>The perfect plant for you <span class="name-plant">${l}</span></p>\n      <div id="imgPlantsContainer" class="img-container">\n        <img class="image plantImage" src="Assets/plant-${t(l)}.png" alt="">\n        <img class="image potImage" src="Assets/pots/${t(r)}-${a}.png" alt="">\n        <img class="image soilImage" src="Assets/soil-${c}.png" alt="">\n      </div>\n      <div class="description">\n      <div class="infoName"><h3>Name: </h3><p class="descripCard">${l}</p></div>\n      <div class="infoSoil"><h3>Soil: </h3><p class="descripCard">${c}</p></div>\n      <div class="infoSoil"><h3>Color: </h3><p class="descripCard">${d}</p></div>\n        <div class="infoPot"><h3>Pot: </h3><p class="descripCard">${r}</p></div>\n        <div id="elements" class="infoExtras"><h3>Extras: </h3><p class="descripCard moreElements">${i}</p></div>\n      </div>\n      <a class="customize-btn" href="customize.html" id="Customice">Customice</a>\n    </div>\n    `;o.innerHTML=g,function(t){const n=document.getElementById("imgPlantsContainer");if(t&&t.length>0)Array.isArray(t)?t.forEach((t=>{n.innerHTML+=`<img class="image extra${t}" src="Assets/${e(t)}.png" alt="">`})):n.innerHTML+=`<img class="image extra${t}" src="Assets/${e(t)}.png" alt="">`;else{const e=document.getElementById("elements");e&&e.remove()}}(i)}(w)}))})();