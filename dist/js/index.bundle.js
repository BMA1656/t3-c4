(()=>{"use strict";function e(e){switch(e){case"moss":return"moss-pole";case"pebbles":return"pebbles";case"mini":return"mini-plants";default:return""}}function t(e){return e.replace(/ /g,"-").toLowerCase()}class n{constructor(e,t,n,a){this.type=e,this.light=t,this.overwaters=n,this.elements=a}addComposting(e){this.composting=e}addMaterial(e){this.material=e}addStyle(e){this.style=e}addName(e){this.name=e}addColor(e){this.color=e}makeCard(){!function(n){console.log(n);const a=JSON.stringify(n);localStorage.setItem("localPlant",a);const i=document.getElementById("card-container");i.innerHTML="";const{name:s,composting:o,color:l,style:c,elements:r,material:d}=n;let m=`\n    <div class="card">\n      <p>The perfect plant for you <span class="name-plant">${s}</span></p>\n      <div id="imgPlantsContainer" class="img-container">\n        <img class="image plantImage" src="Assets/plant-${t(s)}.png" alt="">\n        <img class="image potImage" src="Assets/pots/${t(c)}-${l}.png" alt="">\n        <img class="image soilImage" src="Assets/soil-${o}.png" alt="">\n      </div>\n      <div class="description">\n      <div class="infoName"><h3>Name: </h3><p class="descripCard">${s}</p></div>\n      <div class="infoSoil"><h3>Soil: </h3><p class="descripCard">${o}</p></div>\n      <div class="infoSoil"><h3>Color: </h3><p class="descripCard">${d}</p></div>\n        <div class="infoPot"><h3>Pot: </h3><p class="descripCard">${c}</p></div>\n        <div id="elements" class="infoExtras"><h3>Extras: </h3><p class="descripCard moreElements">${r}</p></div>\n      </div>\n      <a class="customize-btn" href="customize.html" id="Customice">Customice</a>\n    </div>\n    `;i.innerHTML=m,function(t){const n=document.getElementById("imgPlantsContainer");if(t&&t.length>0)Array.isArray(t)?t.forEach((t=>{n.innerHTML+=`<img class="image extra${t}" src="Assets/${e(t)}.png" alt="">`})):n.innerHTML+=`<img class="image extra${t}" src="Assets/${e(t)}.png" alt="">`;else{const e=document.getElementById("elements");e&&e.remove()}}(r)}({name:this.name,color:this.color,light:this.light,composting:this.composting,material:this.material,style:this.style,elements:this.elements})}}const a=[{id:1,name:"Sansevieria",type:["toxic"],light:["lowlight"],watering:"underwater"},{id:2,name:"Peace Lily",type:["toxic","nonToxic"],light:["lowlight","mediumlight","outdoor"],watering:"overwater"},{id:3,name:"Boston Fern",type:["nonToxic"],light:["lowlight"],watering:"underwater"},{id:4,name:"Aglaonema",type:["toxic"],light:["mediumlight"],watering:"underwater"},{id:5,name:"Monstera",type:["nonToxic"],light:["mediumlight"],watering:"underwater"},{id:6,name:"Aloe Vera",type:["toxic"],light:["outdoor"],watering:"underwater"},{id:7,name:"Cactus",type:["nonToxic"],light:["outdoor"],watering:"underwater"}];document.getElementById("plantForm").addEventListener("submit",(function(e){e.preventDefault();const t=new FormData(e.target),i={};t.forEach(((e,t)=>{i[t]?(Array.isArray(i[t])||(i[t]=[i[t]]),i[t].push(e)):i[t]=e})),function(e){let t,i;!function(e){switch(e){case"clay":console.log("Opción 1 seleccionada"),t="Clay",i="Clay Simple";break;case"clay-decorated":console.log("Opción 2 seleccionada"),t="Clay",i="Clay Decorated";break;case"ceramic":console.log("Opción 3 seleccionada"),t="Ceramic",i="Ceramic Simple";break;case"ceramic-decorated":console.log("Opción 4 seleccionada"),t="Ceramic",i="Ceramic Decorated";break;default:console.log("Opción no reconocida")}}(e.style);const s=function(e){let t=null;return a.forEach((n=>{n.type.includes(e.type)&&n.light.includes(e.light)&&(t="overwater"===n.watering&&"toxic"==e.type?"Peace Lily":n.name)})),t}(e),{type:o,light:l,watering:c,composting:r,style:d,elements:m}=e,g=new n(o,l,c,m);g.addComposting(r),g.addColor("unpainted"),g.addStyle(i),g.addMaterial(t),g.addName(s),g.makeCard()}(i)})),document.getElementById("plantForm").addEventListener("reset",(function(){document.getElementById("card-container").innerHTML=""}))})();